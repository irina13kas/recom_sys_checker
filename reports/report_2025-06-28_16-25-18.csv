message
üß™ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
------------------------------
‚úÖ PASSED: test_solution_file_exists
‚úÖ PASSED: test_has_required_functions
‚úÖ PASSED: test_fit_runs_without_error
‚úÖ PASSED: test_fit_and_recommend_on_generated[5-1]
‚úÖ PASSED: test_fit_and_recommend_on_generated[5-2]
‚úÖ PASSED: test_fit_and_recommend_on_generated[5-3]
‚úÖ PASSED: test_fit_and_recommend_on_generated[42-1]
‚úÖ PASSED: test_fit_and_recommend_on_generated[42-2]
‚úÖ PASSED: test_fit_and_recommend_on_generated[42-3]
‚úÖ PASSED: test_fit_and_recommend_on_generated[100-1]
‚úÖ PASSED: test_fit_and_recommend_on_generated[100-2]
‚úÖ PASSED: test_fit_and_recommend_on_generated[100-3]
‚úÖ PASSED: test_fit_and_recommend_on_generated[250-1]
‚úÖ PASSED: test_fit_and_recommend_on_generated[250-2]
‚úÖ PASSED: test_fit_and_recommend_on_generated[250-3]
‚úÖ PASSED: test_recommend_items_not_seen[5]
‚úÖ PASSED: test_recommend_items_not_seen[42]
‚úÖ PASSED: test_recommend_items_not_seen[100]
‚úÖ PASSED: test_recommend_items_not_seen[250]
‚úÖ PASSED: test_repeat_fit_stability[5]
‚úÖ PASSED: test_repeat_fit_stability[42]
‚úÖ PASSED: test_repeat_fit_stability[100]
‚úÖ PASSED: test_repeat_fit_stability[250]
‚ùå FAILED: test_evaluate_precision_at_2[5]
‚ùå FAILED: test_evaluate_precision_at_2[42]
‚ùå FAILED: test_evaluate_precision_at_2[100]
‚ùå FAILED: test_evaluate_precision_at_2[250]
‚úÖ PASSED: test_solution_file_exists
‚úÖ PASSED: test_has_required_functions
‚úÖ PASSED: test_fit_runs_without_error
‚úÖ PASSED: test_fit_and_recommend_on_generated[5-1]
‚úÖ PASSED: test_fit_and_recommend_on_generated[5-2]
‚úÖ PASSED: test_fit_and_recommend_on_generated[5-3]
‚úÖ PASSED: test_fit_and_recommend_on_generated[42-1]
‚úÖ PASSED: test_fit_and_recommend_on_generated[42-2]
‚úÖ PASSED: test_fit_and_recommend_on_generated[42-3]
‚úÖ PASSED: test_fit_and_recommend_on_generated[100-1]
‚úÖ PASSED: test_fit_and_recommend_on_generated[100-2]
‚úÖ PASSED: test_fit_and_recommend_on_generated[100-3]
‚úÖ PASSED: test_fit_and_recommend_on_generated[250-1]
‚úÖ PASSED: test_fit_and_recommend_on_generated[250-2]
‚úÖ PASSED: test_fit_and_recommend_on_generated[250-3]
‚úÖ PASSED: test_recommend_items_not_seen[5]
‚úÖ PASSED: test_recommend_items_not_seen[42]
‚úÖ PASSED: test_recommend_items_not_seen[100]
‚úÖ PASSED: test_recommend_items_not_seen[250]
‚úÖ PASSED: test_repeat_fit_stability[5]
‚úÖ PASSED: test_repeat_fit_stability[42]
‚úÖ PASSED: test_repeat_fit_stability[100]
‚úÖ PASSED: test_repeat_fit_stability[250]
‚ùå FAILED: test_evaluate_precision_at_2[5]
‚ùå FAILED: test_evaluate_precision_at_2[42]
‚ùå FAILED: test_evaluate_precision_at_2[100]
‚ùå FAILED: test_evaluate_precision_at_2[250]
""
üé® –°—Ç–∏–ª—å –∫–æ–¥–∞ (flake8)
------------------------------
‚ùå flake8: –ù–∞–π–¥–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Ç–∏–ª–µ–º:
solutions/solution.py:5:1: F401 'sklearn.model_selection.train_test_split' imported but unused
"solutions/solution.py:16:1: E302 expected 2 blank lines, found 1"
solutions/solution.py:20:39: W291 trailing whitespace
solutions/solution.py:37:41: E127 continuation line over-indented for visual indent
"solutions/solution.py:42:1: E302 expected 2 blank lines, found 1"
solutions/solution.py:47:24: W291 trailing whitespace
solutions/solution.py:49:5: F824 `global user_item_matrix` is unused: name is never assigned in scope
solutions/solution.py:49:5: F824 `global item_similarity` is unused: name is never assigned in scope
solutions/solution.py:49:5: F824 `global users` is unused: name is never assigned in scope
solutions/solution.py:49:5: F824 `global items` is unused: name is never assigned in scope
"solutions/solution.py:87:1: E302 expected 2 blank lines, found 1"
solutions/solution.py:89:5: F824 `global user_item_matrix` is unused: name is never assigned in scope
solutions/solution.py:89:5: F824 `global item_similarity` is unused: name is never assigned in scope
solutions/solution.py:89:5: F824 `global users` is unused: name is never assigned in scope
solutions/solution.py:89:5: F824 `global items` is unused: name is never assigned in scope
solutions/solution.py:120:80: E501 line too long (103 > 79 characters)
solutions/solution.py:121:46: W291 trailing whitespace
solutions/solution.py:141:1: E303 too many blank lines (3)
solutions/solution.py:141:80: E501 line too long (113 > 79 characters)
solutions/solution.py:142:80: E501 line too long (115 > 79 characters)
solutions/solution.py:142:116: W292 no newline at end of file
""
""
üß± –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (black)
------------------------------
‚ùå black: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ black.
""
üìã –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:
uYTYT^ --- solutions\solution.py	2025-06-28 13:25:15.398014+00:00
+++ solutions\solution.py	2025-06-28 13:25:18.522370+00:00
"@@ -11,42 +11,45 @@"
 item_similarity = None
 user_item_matrix = None
 items = None
 users = None
 
+
 def fit(train_data: pd.DataFrame) -> None:
"     """""""
-      –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∏ –ø–∏—à–∏ –∫–æ–¥ –∑–¥–µ—Å—å
-      –û–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç
-      train_data - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è       
+    –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∏ –ø–∏—à–∏ –∫–æ–¥ –∑–¥–µ—Å—å
+    –û–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç
+    train_data - –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
"     """""""
"     """"""–û–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ."""""""
     # –°–æ–∑–¥–∞–µ–º user-item –º–∞—Ç—Ä–∏—Ü—É
"     global user_item_matrix, item_similarity, users, items"
-    users = train_data['user_id'].unique()
-    items = train_data['item'].unique()
"+    users = train_data[""user_id""].unique()"
"+    items = train_data[""item""].unique()"
 
     # –°–æ–∑–¥–∞–µ–º —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω—É—é –º–∞—Ç—Ä–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Ñ–∏–ª—å–º
"     user_to_idx = {user: idx for idx, user in enumerate(users)}"
"     item_to_idx = {item: idx for idx, item in enumerate(items)}"
 
-    rows = train_data['user_id'].map(user_to_idx)
-    cols = train_data['item'].map(item_to_idx)
-    ratings = train_data['rating']
"+    rows = train_data[""user_id""].map(user_to_idx)"
"+    cols = train_data[""item""].map(item_to_idx)"
"+    ratings = train_data[""rating""]"
 
"-    user_item_matrix = csr_matrix((ratings, (rows, cols)),"
"-                                        shape=(len(users), len(items)))"
+    user_item_matrix = csr_matrix(
"+        (ratings, (rows, cols)), shape=(len(users), len(items))"
+    )
 
     # –í—ã—á–∏—Å–ª—è–µ–º –∫–æ—Å–∏–Ω—É—Å–Ω—É—é —Å—Ö–æ–∂–µ—Å—Ç—å –º–µ–∂–¥—É —Ñ–∏–ª—å–º–∞–º–∏ (–∞–Ω–∞–ª–æ–≥ Pearson)
     item_similarity = cosine_similarity(user_item_matrix.T)
 
+
" def recommend(user_id: int, k: int) -> List[int]:"
"     """""""
-      –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∏ –ø–∏—à–∏ –∫–æ–¥ –∑–¥–µ—Å—å
"-      –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ k item_id, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é."
"-      user_id - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–¥–±–∏—Ä–∞—é—Ç—Å—è —Ä–µ–∫–æ–º–º–µ–Ω–¥–∞—Ü–∏–∏"
-      k - —á–∏—Å–ª–æ —Å–æ—Å–µ–¥–µ–π   
+    –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∏ –ø–∏—à–∏ –∫–æ–¥ –∑–¥–µ—Å—å
"+    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ k item_id, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é."
"+    user_id - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–¥–±–∏—Ä–∞—é—Ç—Å—è —Ä–µ–∫–æ–º–º–µ–Ω–¥–∞—Ü–∏–∏"
+    k - —á–∏—Å–ª–æ —Å–æ—Å–µ–¥–µ–π
"     """""""
"     global user_item_matrix, item_similarity, users, items"
"     """"""–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ k item_id, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é."""""""
     if user_id not in users:
         return []
"@@ -82,10 +85,11 @@"
 
     # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º top-k
"     pred_ratings.sort(key=lambda x: x[1], reverse=True)"
"     return [item for item, _ in pred_ratings[:k]]"
 
+
" def predict(user_id: int, item_id: int) -> float:"
"     """"""–ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ –¥–ª—è –ø–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Ñ–∏–ª—å–º."""""""
"     global user_item_matrix, item_similarity, users, items"
     if user_id not in users or item_id not in items:
         return 0.0
"@@ -114,29 +118,28 @@"
     return pred_rating
 
 
 def evaluate(test_data: pd.DataFrame) -> float:
"     """""""
-      –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∏ –ø–∏—à–∏ –∫–æ–¥ –∑–¥–µ—Å—å
"-      –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, RMSE, precision@2)."
-      test_data - –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞—Å—Å—á–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫–∏  
+    –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –∏ –ø–∏—à–∏ –∫–æ–¥ –∑–¥–µ—Å—å
"+    –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, RMSE, precision@2)."
+    test_data - –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞—Å—Å—á–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫–∏
"     """""""
"     """"""–û—Ü–µ–Ω–∏–≤–∞–µ—Ç –º–æ–¥–µ–ª—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç RMSE."""""""
     y_true = []
     y_pred = []
 
"     for _, row in test_data.iterrows():"
-        user_id = row['user_id']
-        item_id = row['item']
-        true_rating = row['rating']
"+        user_id = row[""user_id""]"
"+        item_id = row[""item""]"
"+        true_rating = row[""rating""]"
 
"         pred_rating = predict(user_id, item_id)"
 
         y_true.append(true_rating)
         y_pred.append(pred_rating)
 
"     return sqrt(mean_squared_error(y_true, y_pred))"
 
 
-
" # –ï—Å–ª–∏ —Ç–µ–±–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –º–æ–∂–µ—à—å —Å–º–µ–ª–æ –∏—Ö –¥–æ–±–∞–≤–ª—è—Ç—å, –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ."
"-# –¢–µ–±–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Ç–≤–æ–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, –µ–≥–æ –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –Ω–∞ —Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —á—Ç–æ –∏ —ç—Ç–æ—Ç —Ñ–∞–π–ª"
\ No newline at end of file
"+# –¢–µ–±–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Ç–≤–æ–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, –µ–≥–æ –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –Ω–∞ —Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —á—Ç–æ –∏ —ç—Ç–æ—Ç —Ñ–∞–π–ª"
